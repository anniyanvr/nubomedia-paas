<!--
  ~ /*
  ~  * Copyright (c) 2016 Open Baton
  ~  *
  ~  * Licensed under the Apache License, Version 2.0 (the "License");
  ~  * you may not use this file except in compliance with the License.
  ~  * You may obtain a copy of the License at
  ~  *
  ~  *     http://www.apache.org/licenses/LICENSE-2.0
  ~  *
  ~  * Unless required by applicable law or agreed to in writing, software
  ~  * distributed under the License is distributed on an "AS IS" BASIS,
  ~  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  * See the License for the specific language governing permissions and
  ~  * limitations under the License.
  ~  */
  -->

<div class="row">
    <div class="col-lg-12">
        <h1>
            User
            <small>Information</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i>
                Overview</a></li>
            <li><a href="#users"><i class="fa fa-users"></i>
                Users</a></li>
            <li class="active"><i class="fa fa-user"></i> User: {{user.username}}</li>
        </ol>
    </div>
</div>
<!-- /.row -->
<div class="row top-buffer">
    <div class="col-lg-12">
        <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">
            <div ng-bind-html="alert.msg"></div>
        </alert>

        <div class="col-lg-12" ng-show="user">
            <h3>Username: {{user.username}}</h3>
            <a href="#" data-toggle="modal" data-target="#jsonInfo">Show JSON</a>

            <dl class="dl-horizontal">
        <span class="dl-horizontal" ng-repeat="(key,value) in user" ng-if="key !== 'scripts'">

                    <div ng-if="key !== 'roles'">
                        <dt>{{key}}:</dt>
                        <dd>{{value}}</dd>
                    </div>
                    <div ng-if="key === 'roles'">
                        <dt>roles:</dt>
                        <dd><span ng-repeat="role in value">
                            <b>id</b>: {{role.id}},
                            <b>project</b>: {{role.project}},
                            <b>role</b>: {{role.role}}
                            <span ng-if="!$last">; </span>
                            </span></dd>
                    </div>
                </span>

            </dl>
        </div>
    </div>
</div>

<div class="modal" id="jsonInfo" tabindex="" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">JSON of Event: {{user.name}}</h4>
            </div>
            <div class="modal-body">
                <pre id="json">{{userJSON}}</pre>
            </div>
            <div class="modal-footer">
                <button type="button" id="closeModal" class="btn btn-default"
                        data-dismiss="modal">Close
                </button>
            </div>
        </div>
    </div>
</div>

